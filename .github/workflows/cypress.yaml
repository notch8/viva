name: Cypress Tests for React apps
on: push

jobs:
  cypress-run:
    runs-on: ubuntu-22.04
    # https://github.com/cypress-io/cypress-docker-images
    container:
      image: cypress/browsers:node-20.6.1-chrome-116.0.5845.187-1-ff-117.0-edge-116.0.1938.76-1
    steps:
      - name: Checkout
        uses: actions/checkout@v3
      - name: Cypress run
        uses: cypress-io/github-action@v6
        with:
          start: docker compose up -d web
          component: true
          browser: chrome
